<script setup lang="ts">
import { onMounted, ref } from 'vue'

import UiTable from '@renderer/ui/UiTable.vue'

import type { Penalty } from 'avtoshkola-pdd'

const headers = [
  {
    title: '–°—Ç. –ö–æ–ê–ü',
    key: 'article_part'
  },
  {
    title: '–ü—Ä–∞–≤–æ–Ω–∞—Ä—É—à–µ–Ω–∏–µ',
    key: 'text'
  },
  {
    title: '–°–∞–Ω–∫—Ü–∏–∏/–º–µ—Ä—ã',
    key: 'penalty'
  }
]

const penalties = ref<Penalty[]>([])

const getAllPenalties = async () => {
  const allPenalties = await window.api.penalties.getAllPenalties()
  console.log('üöÄ ~ getAllPenalties ~ allPenalties:', allPenalties)

  penalties.value = allPenalties
}

onMounted(() => {
  getAllPenalties()
})
</script>
<template>
  <section>
    <h3 class="text-lg mb-2">–®—Ç—Ä–∞—Ñ—ã</h3>
    <ui-table :headers="headers" :items="penalties" />
  </section>
</template>
